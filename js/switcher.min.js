jQuery.fn.switcher=function(){return this.each(function(){var a=$(this);a.val(1);a.wrap("<div class='switch-container' />");var b=a.parent();b.prepend("<div class='switch-background'><a href='' class='btn btn-success button-switch'>&nbsp;</a><p class='desc-switch desc-switch-on'>ON</p></div>");var c=b.find(".button-switch");var d=b.find(".desc-switch");a.css({visibility:"hidden",marginTop:"-20px",marginLeft:"10px"});b.toggle(function(){a.attr("checked",true);console.log(b.width());console.log(c.width());c.animate({marginLeft:"46px"},"fast");d.removeClass("desc-switch-on");d.addClass("desc-switch-off");d.html("OFF");c.removeClass("btn-success");c.addClass("btn-danger")},function(){a.attr("checked",false);c.animate({marginLeft:"0px"},"fast");d.removeClass("desc-switch-off");d.addClass("desc-switch-on");d.html("ON");c.removeClass("btn-danger");c.addClass("btn-success")})})}